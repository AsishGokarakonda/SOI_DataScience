<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    </head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='bg.css') }}">
    <title>Readme</title>
</head>

<body style="font-family:sans-serif ;background-color: black;color: white;">
    <div id="stars-container" >
        <div id='stars'></div>
        <div id='stars2'></div>
        <div id='stars3'></div>

        <div style="position:absolute; width: 100%;height: 100vh;overflow: auto;">
    <nav class="navbar navbar-expand-lg bg-*" >
        <div class="container-fluid">
            <a class="navbar-brand" href="/" style="color:white ;margin-bottom: 4px;">Codebusters</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/" style="color:white ;">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/readme" style="color:white ;">Readme</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about" style="color:white ;">About us</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container" style="margin-top: 30px ;margin-bottom: 30px;">
        <h1 id="execution-details">Execution Details</h1>
<hr style="margin-top:0 ;" />

<ol>
<li><p>Clone the repository using <code>git clone https://github.com/AsishGokarakonda/SOI_DataScience</code>.</p>
</li>
<li><p>Set up the python virtual environment using following commands:<br/>
 1) &gt; python -m venv venv<br/>
 2) &gt; <code> source /home/<username>/Desktop/SOI_DataScience/venv/bin/activate </code>(or <code>source /path/to/venv/bin/activate</code>)<br/>
 2) &gt; pip install -r requirements.txt</p>
</li>
<li><p>Now run the app using: <code>python3 app.py</code></p>
</li>
<li><p>The app will start running at port 3000.</p>
</li>
</ol>
<p>(Note: To deactivate the venv, just use: <code>deactivate</code>)</p>
<h1 id="details-about-the-model">Details about the Model</h1>
<hr style="margin-top:0 ;" />

<p>The Neural Network model created for the project has some larger initial layers which enable the computation, followed by gradually tapering layers which reduce the dimensionality of the information and bring it down to 4 in the last layer. It used categorical cross-entropy as the loss function and the adam optimizer. Some unrelated columns in the data have been dropped.</p>
<p>A pretrained version of the Model is being used in the project which had a training accuracy of around 83 percent. Incase the model isn&#39;t functioning properly (due to any versioning issues) we&#39;ve provided the python note book to generate the model, and then use it in the webapp.</p>
<p>The model uses one-hot encoding for performing classification.</p>
<p>The tce_rogue_flag, tce_insol and tce_insol_err columns are dropped since they are empty. Also kepid is dropped since it is only for unique identification purpose</p>
<h1 id="details-about-the-app">Details about the App</h1>
<hr style="margin-top:0 ;" />

<p>The webapp is designed using the flask API. It runs on the host computer at port 3000.</p>
<h2 id="input-csv-file">Input csv file</h2>
<hr style="margin-top:0 ;" />

<p>The input csv file is a csv file which contains the following columns:
<code>kepid,tce_plnt_num,tce_rogue_flag,tce_period,tce_period_err,tce_time0bk,tce_time0bk_err,tce_impact,tce_impact_err,tce_duration,tce_duration_err,tce_depth,tce_depth_err,tce_model_snr,tce_prad,tce_prad_err,tce_eqt,tce_eqt_err,tce_insol,tce_insol_err,tce_steff,tce_steff_err,tce_slogg,tce_slogg_err,tce_sradius,tce_sradius_err</code> and has header.</p>
<p>Refer to sample input csv file <a href="./files/sample_input.csv">here</a>.</p>
<h2 id="output-csv-file">Output csv file</h2>
<hr style="margin-top:0 ;" />

<p>Predicted results are obtained by a csv file containing the predicted labels by our keras model for given input data. It consists only <code>av_training_set</code> column with header.</p>
<p>Rows are of same order as the input csv file.</p>
<h2 id="how-predictions-are-made">How predictions are made</h2>
<hr style="margin-top:0 ;" />

<p>We first made a model using the problem dataset given <a href="../files/problem_dataset.csv">here</a>. Then we saved the model in the <code href="./files/model/">files/model</code> folder. In the flask web app,
we load the model using the <code>load_model</code> function. Then we make predictions for the input csv files using the <code>predict</code> function.</p>
<h2 id="result-analysis">Result Analysis</h2>
<hr style="margin-top:0 ;" />

<p>A basic bar chart is shown after prediction is done to show the distribution of the predicted labels. Sample image is shown below.</p>
<p><img src="files/result_sample.png" alt="image"></p>
<h2 id="trouble-shooting">Trouble Shooting</h2>
<hr style="margin-top:0 ;" />
<h3 id="1-error-after-submitting-the-input-csv-file-valueerror-">1. Error after submitting the input csv file (ValueError)</h3>
<p>The error may be due to the incorrect input csv file. Check if the input csv file is in the correct format. Sample input csv file is <a href="../files/sample_input.csv">here</a>.</p>
<h3 id="2-not-enough-permissions-to-access-files-folder">2. Not enough permissions to access <code>/files/</code> folder</h3>
<p>The error may be due to opening the <code>/files/</code> folder in any other application. Try closing them. Also if you are using linux, make sure you have the permissions to access the folder.</p>
<h3 id="3-error-while-loading-the-model-attributeerror-">3. Error while loading the model (AttributeError)</h3>
<p>This error may be due to using different versions of tensorflow. Make sure you are using virtual environment. If you are still facing this error, then run the file <a href="https://colab.research.google.com/drive/1kuyL5t8c6WfGCWK_PBxVk1aYgA3NNXG-?authuser=1#scrollTo=eZQ1gKMKe9iI">soi_nn_2.py</a> to generate the model. This will generate the model in the <code>files/model</code> folder.</p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
        integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
        crossorigin="anonymous"></script>
</body>

</html>